//
//  MSAUtils.m
//  MySchapp
//
//  Created by CK-Dev on 23/02/16.
//  Copyright Â© 2016 ACA. All rights reserved.
//

#import "MSAUtils.h"
#import "MSAConstants.h"

@implementation MSAUtils

+ (BOOL)validateEmail:(NSString *)email {
    NSString *emailRegex = @"[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}";
    NSPredicate *emailTest = [NSPredicate predicateWithFormat:@"SELF MATCHES %@", emailRegex];
    
    return [emailTest evaluateWithObject:email];
}

+ (BOOL)validatePassword:(NSString *)password {
    NSString *pwdRegex = @"^(?=.{10,})(?=.*[0-9])(?=.*[a-zA-Z])([@#$%^&=a-zA-Z0-9_-]+)$";//@"^(?=.{2,8}$)(?=.*?[A-Za-z0-9])(?=.*?[\W_])[\w\W]+";
    
   
    
    NSPredicate *pwdTest = [NSPredicate predicateWithFormat:@"SELF MATCHES %@", pwdRegex];
    
    return [pwdTest evaluateWithObject:password];
}

+ (void)showAlertWithTitle: (NSString *) title message:(NSString *)message cancelButton:(NSString*)cancelTitle otherButton:(NSString *) buttonTitle delegate:(id) sender {
    //ios 8 and below
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:title message:message delegate:sender cancelButtonTitle:cancelTitle otherButtonTitles:buttonTitle, nil];
    
    [alert show];
    
    // ios 8 and later
//    UIAlertController* alertC = [UIAlertController alertControllerWithTitle:title
//                                                                   message:message
//                                                            preferredStyle:UIAlertControllerStyleAlert];
//    
//    UIAlertAction* defaultAction = [UIAlertAction actionWithTitle:cancelTitle style:UIAlertActionStyleDefault
//                                                          handler:^(UIAlertAction * action) {}];
//    
//    
//    [alertC addAction:defaultAction];
//    
//    UIAlertAction* cancelAction = [UIAlertAction actionWithTitle:buttonTitle style:UIAlertActionStyleCancel
//                                                          handler:^(UIAlertAction * action) {}];
//    
//    
//    [alertC addAction:cancelAction];
//    [sender presentViewController:alertC animated:YES completion:nil];
}

+ (NSString *)convertNullToEmptyString:(NSString *)nullString {
    if ([nullString isKindOfClass:[NSNull class]]) {
        nullString = @"";
        return nullString;
    }
    return nullString;
    
}

+ (void)setNavigationBarAttributes:(UINavigationController*) navigationController{
    navigationController.navigationBar.barTintColor = kMySchappDarkBlueColor;
    navigationController.navigationBar.translucent = NO;
    navigationController.navigationBar.tintColor = [UIColor whiteColor];
    [navigationController.navigationBar
     setTitleTextAttributes:@{NSForegroundColorAttributeName : [UIColor whiteColor]}];
}

+ (void)resetDefaults {
    NSUserDefaults * defs = [NSUserDefaults standardUserDefaults];
    NSDictionary * dict = [defs dictionaryRepresentation];
    for (id key in dict) {
        [defs removeObjectForKey:key];
    }
    [defs synchronize];
}

+(CGFloat)getDeviceWidth
{
    CGRect screenBounds = [[UIScreen mainScreen] bounds];
    return screenBounds.size.width;
}

+(UIFont *)adjustFontSizeAccToScreenWidth:(UIFont *)font {
    
    CGFloat screenWidth = [MSAUtils getDeviceWidth];
    UIFont *fontUpdated;
    if(screenWidth == 320) {
        CGFloat fontSize = font.pointSize - 2.0;
        fontUpdated = [UIFont fontWithName:font.fontName size:fontSize];
        return fontUpdated;
    }
    return font;
    
}

/*
 + (NSString *)stringFromArray:(NSArray *)list {
 NSString *concatString;
 for (NSInteger i = 0; i<list.count; i++) {
 concatString = [concatString stringByAppendingString:[list objectAtIndex:i]];
 }
 return concatString;
 }
 
 + (id)arrayFromString:(NSString *)list {
 NSArray *stringArray;
 stringArray = [list componentsSeparatedByString:@","];
 
 return stringArray;
 }
 
 + (NSArray *)arrayFromArray:(NSArray *)list {
 NSMutableArray *tempArr = [[NSMutableArray alloc]init];
 
 for (NSInteger i = 0; i<list.count; i++) {
 [tempArr addObject:[list objectAtIndex:i]];
 }
 return tempArr;
 }
 */


@end
