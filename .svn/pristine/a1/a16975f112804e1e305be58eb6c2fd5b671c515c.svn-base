//
//  MSAComparePlanViewController.m
//  MySchapp
//
//  Created by CK-Dev on 3/11/16.
//  Copyright Â© 2016 ACA. All rights reserved.
//

#import "MSAComparePlanViewController.h"
#import "MSAComparePlanTableViewCell.h"

@interface MSAComparePlanViewController ()
{
    NSInteger plan1Index;
    NSInteger plan2Index;
    NSArray *features;
}
@end

@implementation MSAComparePlanViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    plan1Index = 0;
    plan2Index = 1;
    self.featureList.dataSource = self;
    self.featureList.delegate = self;
    self.plan1.titleLabel.text = @"PLAN1";//[[self.plansAvailable objectAtIndex:plan1Index] valueForKey:@"featureName"];
    self.plan2.titleLabel.text = @"PLAN2";//[[self.plansAvailable objectAtIndex:plan2Index] valueForKey:@"featureName"]
    features = [[self.plansAvailable objectAtIndex:plan1Index] valueForKey:@"features"];
    
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

#pragma mark - IBAction

-(void)selectPlan1:(id)sender
{
    
}

-(void)selectPlan2:(id)sender
{
    
}

#pragma mark TableView Delegates

-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
    
    return 60;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    return [features count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    
    static NSString *CellIdentifier = @"MSAComparePlanTableViewCell";
    
    MSAComparePlanTableViewCell *cell = (MSAComparePlanTableViewCell*)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = (MSAComparePlanTableViewCell *) [[[NSBundle mainBundle] loadNibNamed:@"MSAComparePlanTableViewCell" owner:self options:nil] objectAtIndex:0];
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
    }
    
    cell.feature.text = [[features objectAtIndex:indexPath.row] valueForKey:@"description"];
    id value1 = [[[[self.plansAvailable objectAtIndex:plan1Index] valueForKey:@"features"] objectAtIndex:indexPath.row] valueForKey:@"value"];
    id value2 = [[[[self.plansAvailable objectAtIndex:plan2Index] valueForKey:@"features"] objectAtIndex:indexPath.row] valueForKey:@"value"];
    if([value1 isEqualToString:@"YES"])
    {
        NSLog(@"jg");
    }
    else if ([value1 isEqualToString:@"NO"])
    {
        NSLog(@"jg1");
    }
    else
    {
        NSLog(@"jg2");
    }
    
    if([value2 isEqualToString:@"YES"])
    {
        NSLog(@"jg3");
    }
    else if ([value2 isEqualToString:@"NO"])
    {
        NSLog(@"jg4");
    }
    else
    {
        NSLog(@"jg5");
    }
    
    return cell;
}

@end
